# Calls to ghc: https://www.vex.net/~trebla/haskell/so.xhtml


all:
	hsc2hs gif.hsc
	ghc -O2 -fPIC -c wrapper.c
	ghc -O2 -dynamic -shared -fPIC -o libhello.so URL.hs cookies.hs gif.hs Colors.hs wrapper.o -lHSrts-ghc8.4.4

distclean: clean

clean:
	rm -rf *.o *.a *.so *.hi *_stub.h *.out
	rm -rf tests/*.o tests/*.hi
	rm -rf tools/*.o tools/*.hi
